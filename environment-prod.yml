name: deepseekquant-prod
channels:
  - conda-forge
  - defaults
  - apple
dependencies:
  # 继承基础环境的所有依赖
  - python>=3.9,<3.11
  - numpy>=1.21.0
  - pandas>=1.5.0
  - scipy>=1.9.0
  - scikit-learn>=1.0.0
  - yfinance>=0.1.87
  - alpha-vantage>=2.3.0
  - sqlalchemy>=1.4.0
  - pg8000>=1.29.0
  - psycopg2-binary>=2.9.0
  - fastapi>=0.85.0
  - uvicorn>=0.18.0
  - requests>=2.28.0
  - pyyaml>=6.0
  - python-dotenv>=0.19.0
  - redis>=4.3.0
  - prometheus-client>=0.14.0
  - psutil>=5.9.0
  - cryptography>=37.0.0
  - matplotlib>=3.6.0
  - seaborn>=0.12.0

  # 生产环境特定扩展
  - numba>=0.56.0
  - statsmodels>=0.13.0
  - empyrical>=0.5.0
  - pyportfolioopt>=1.5.0
  - cvxpy>=1.2.0
  - ta>=0.10.0
  - aiohttp>=3.8.0
  - dask>=2022.10.0

  - pip
  - pip:
    - tensorflow>=2.9.0; platform_machine != "arm64" and sys_platform != "darwin"
    - tensorflow-macos>=2.9.0; platform_machine == "arm64" and sys_platform == "darwin"

variables:
  DEEPSEEKQUANT_ENV: "production"
  PYTHONPATH: "."
  PYTHONOPTIMIZE: "1"